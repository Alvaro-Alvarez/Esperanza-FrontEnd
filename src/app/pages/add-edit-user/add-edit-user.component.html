<div class="container">
    <app-title
    [title]="title"
    ></app-title>

    <div class="form-container">
        <form [formGroup]="userForm" (submit)="addOrUpdateUser();">
            <div class="row">
                <div class="col-sm-6">
                    <app-text
                    [parentForm]="getForm(userForm.get('person')!)"
                    [keyInput]="'names'"
                    [label]="'Nombre/s*'"
                    [placeholder]="'Nombre/s (Requerido)'"
                    [type]="'textCapitalSimple'"
                    ></app-text>
                </div>
                <div class="col-sm-6">
                    <app-text
                    [parentForm]="getForm(userForm.get('person')!)"
                    [keyInput]="'surnames'"
                    [label]="'Apellido/s*'"
                    [placeholder]="'Apellido/s (Requerido)'"
                    [type]="'textCapitalSimple'"
                    ></app-text>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <app-select
                    [parentForm]="userForm"
                    [keyInput]="'roleGuid'"
                    [label]="'Rol*'"
                    [placeholder]="'Rol (Requerido)'"
                    [options]="optionsRoles"
                    (selectChange)="validateCode();"
                    ></app-select>
                </div>
                <div class="col-sm-4">
                    <app-text
                    [parentForm]="userForm"
                    [keyInput]="'email'"
                    [label]="'Email*'"
                    [placeholder]="'Email (Requerido)'"
                    [type]="'text'"
                    ></app-text>
                </div>
                <div class="col-sm-4">
                    <app-text
                    [parentForm]="userForm"
                    [keyInput]="'pass'"
                    [label]="'Contraseña*'"
                    [placeholder]="'Contraseña (Requerido)'"
                    [type]="'textCapitalSimple'"
                    ></app-text>
                </div>
            </div>
            <div class="row" [hidden]="hiddenCode">
                <div class="col-sm-12">
                    <app-text
                    [parentForm]="userForm"
                    [keyInput]="'basClientCode'"
                    [label]="'Código cliente*'"
                    [placeholder]="'Código cliente (Requerido)'"
                    [type]="'text'"
                    [maxlength]="6"
                    ></app-text>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 check-enabled">
                    <app-check
                    [parentForm]="userForm"
                    [keyInput]="'enabled'"
                    [label]="'Habilitado'"
                    ></app-check>
                </div>
            </div>
            <br>
            
            <br>
            <div class="row">
                <div class="col-sm-6">
                    <app-select
                    [parentForm]="getForm(userForm.get('person')!)"
                    [keyInput]="'documentTypeGuid'"
                    [label]="'Tipo de documento'"
                    [placeholder]="'Tipo de documento'"
                    [options]="optionsDocuments"
                    ></app-select>
                </div>
                <div class="col-sm-6">
                    <app-number
                    [parentForm]="getForm(userForm.get('person')!)"
                    [keyInput]="'documentNumber'"
                    [label]="'Número de documento'"
                    [placeholder]="'Número de documento'"
                    [type]="'number'"
                    [maxlength]="8"
                    ></app-number>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-5">
                    <app-select
                    [parentForm]="getForm(userForm.get('person')!)"
                    [keyInput]="'sexGuid'"
                    [label]="'Sexo'"
                    [placeholder]="'Sexo'"
                    [options]="optionsSexs"
                    ></app-select>
                </div>
                <div class="col-sm-7">
                    <div class="row">
                        <div class="col-3">
                            <app-number
                            [parentForm]="getForm(userForm.get('person')?.get('phone')!)"
                            [keyInput]="'countryCode'"
                            [label]="'Cod. Área'"
                            [placeholder]="'Cod. Área'"
                            [type]="'number'"
                            [maxlength]="3"
                            ></app-number>
                        </div>
                        <div class="col-3">
                            <app-number
                            [parentForm]="getForm(userForm.get('person')?.get('phone')!)"
                            [keyInput]="'cityCode'"
                            [label]="'Cod. Prov'"
                            [placeholder]="'Cod. Prov'"
                            [type]="'number'"
                            [maxlength]="3"
                            ></app-number>
                        </div>
                        <div class="col-6">
                            <app-number
                            [parentForm]="getForm(userForm.get('person')?.get('phone')!)"
                            [keyInput]="'phoneNumber'"
                            [label]="'Número'"
                            [placeholder]="'Número'"
                            [type]="'number'"
                            [maxlength]="8"
                            ></app-number>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <app-datepicker
                    [parentForm]="getForm(userForm.get('person')!)"
                    [keyInput]="'dateOfBirth'"
                    [label]="'Fecha de nacimiento'"
                    [placeholder]="'Fecha de nacimiento'"
                    ></app-datepicker>
                </div>
                <div class="col-sm-6">
                    <app-number
                    [parentForm]="getForm(userForm.get('person')!)"
                    [keyInput]="'age'"
                    [label]="'Edad'"
                    [placeholder]="'Edad'"
                    [type]="'currency'"
                    [maxlength]="2"
                    ></app-number>
                </div>
            </div>

            <div class="btn-save">
                <button class="btn btn-orange-noTran" type="submit" [disabled]="userForm.invalid">
                    Guardar cambios
                </button>
            </div>
        </form>
    </div>
</div>